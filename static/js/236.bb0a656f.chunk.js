"use strict";(self.webpackChunkhmis=self.webpackChunkhmis||[]).push([[236],{236:(e,a,s)=>{s.r(a),s.d(a,{default:()=>m});var l=s(43),i=s(472),t=s(253),r=s(64),n=s.n(r),o=s(533),c=s(418),d=s(579);const m=()=>{(0,l.useEffect)((()=>{!async function(){r(!0);try{const e=await(0,t.iq)(`${o.ue}/1`);200===e.status&&Array.isArray(e.response)?h(e.response):(console.error("Unexpected API response format:",e),h([]))}catch(e){console.error("Error fetching Department data:",e)}finally{r(!1)}}(),async function(){r(!0);try{const e=await(0,t.iq)(`${o.lg}/1`);200===e.status&&Array.isArray(e.response)?x(e.response):(console.error("Unexpected API response format:",e),x([]))}catch(e){console.error("Error fetching Department data:",e)}finally{r(!1)}}(),async function(){r(!0);try{const e=await(0,t.iq)(`${o.nd}/1`);200===e.status&&Array.isArray(e.response)?b(e.response):(console.error("Unexpected API response format:",e),b([]))}catch(e){console.error("Error fetching Department data:",e)}finally{r(!1)}}(),async function(){try{const e=await(0,t.iq)(`${o.Xy}/1`);if(200===e.status&&Array.isArray(e.response)){const a=e.response.filter((e=>e.departmentTypeId===c.T));D(a)}else console.error("Unexpected API response format:",e),D([])}catch(e){console.error("Error fetching Department data:",e)}finally{r(!1)}}(),async function(){try{const e=await(0,t.iq)(`${o.Ql}1`);200===e.status&&Array.isArray(e.response)?F(e.response):(console.error("Unexpected API response format:",e),F([]))}catch(e){console.error("Error fetching Department data:",e)}finally{r(!1)}}(),async function(){try{const e=await(0,t.iq)(`${o.l1}/${sessionStorage.getItem("hospitalId")}`);200===e.status?"y"!=e.response.preConsultationAvailable&&"Y"!=e.response.preConsultationAvailable||O(!0):console.error("Unexpected API response format:",e)}catch(e){console.error("Error fetching Department data:",e)}finally{r(!1)}}()}),[]);const[e,a]=(0,l.useState)({}),[s,r]=(0,l.useState)(!1),[m,h]=(0,l.useState)([]),[p,N]=(0,l.useState)(""),[u,x]=(0,l.useState)([]),[v,b]=(0,l.useState)([]),[g,j]=(0,l.useState)([]),[f,y]=(0,l.useState)([]),[k,C]=(0,l.useState)([]),[w,S]=(0,l.useState)([]),[A,D]=(0,l.useState)([]),[I,P]=(0,l.useState)([]),[E,F]=(0,l.useState)([]),[M,$]=(0,l.useState)({imageurl:void 0,firstName:void 0,middleName:void 0,lastName:void 0,mobileNo:void 0,gender:void 0,relation:void 0,dob:void 0,age:void 0,email:void 0,address1:void 0,address2:void 0,country:void 0,state:void 0,district:void 0,city:void 0,pinCode:void 0,nokFirstName:void 0,nokMiddleName:void 0,nokLastName:void 0,nokEmail:void 0,nokMobile:void 0,nokAddress1:void 0,nokAddress2:void 0,nokCountry:void 0,nokState:void 0,nokDistrict:void 0,nokCity:void 0,nokPinCode:void 0,emergencyFirstName:void 0,emergencyLastName:void 0,emergencyMobile:void 0,height:void 0,weight:void 0,temperature:void 0,systolicBP:void 0,diastolicBP:void 0,pulse:void 0,bmi:void 0,rr:void 0,spo2:void 0,speciality:void 0,doctor:void 0,session:void 0,appointmentDate:void 0,maritalStatus:void 0,religion:void 0,emergencyRelationId:void 0,nokRelation:void 0,idealWeight:void 0,varation:void 0,department:void 0,selDoctorId:void 0,selSession:void 0}),[B,U]=(0,l.useState)(i),[R,q]=(0,l.useState)(!1),[L,O]=(0,l.useState)(!1),T=(0,l.useRef)(null),Y=(0,l.useRef)(null);let H=null;const W=()=>{T.current&&T.current.srcObject&&(T.current.srcObject.getTracks().forEach((e=>e.stop())),q(!1))},V=e=>{n().fire({title:"Confirm Upload",text:"Do you want to upload this photo?",imageUrl:e,imageWidth:200,imageHeight:150,showCancelButton:!0,confirmButtonText:"Yes, Upload",cancelButtonText:"Cancel"}).then((a=>{a.isConfirmed&&J(e)}))},J=async e=>{try{const a=await fetch(e).then((e=>e.blob())),s=new FormData;s.append("file",a,"photo.png");const l=await fetch(`${o.QU}${o.OI}`,{method:"POST",body:s}),i=await l.json();if(200===l.status&&i.response){const e=i.response;N(e),console.log("Uploaded Image URL:",e),n().fire("Success!","Image uploaded successfully!","success")}else n().fire("Error!","Failed to upload image!","error")}catch(a){console.error("Upload error:",a),n().fire("Error!","Something went wrong!","error")}};function G(e,a){if(""!==e&&""!=a){var s=a/100,l=e/(s*s);return parseFloat(Math.round(100*l)/100).toFixed(2)}}const Q=e=>{const{name:s,value:l}=e.target,i={...M,[s]:l};"dob"==s?i.age=function(e){const a=new Date(e),s=new Date;let l=s.getFullYear()-a.getFullYear();const i=s.getMonth()-a.getMonth();(i<0||0===i&&s.getDate()<a.getDate())&&l--;return l}(l):"age"==s?i.dob=function(e){const a=new Date,s=a.getFullYear()-e;return new Date(s,a.getMonth(),a.getDate()).toISOString().split("T")[0]}(l):"weight"==s&&void 0!=M.height?i.bmi=G(l,M.height):"height"==s&&void 0!=M.weight&&(i.bmi=G(M.weight,l)),$(i);let t="";"firstName"!==s||l.trim()||(t="First Name is required."),"gender"!==s||l||(t="Gender is required."),"relation"!==s||l||(t="Relation is required."),"dob"!==s||l||(t="Date of Birth is required."),"email"===s&&(l.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)||(t="Invalid email format."):t="Email is required."),"mobileNo"===s&&(l.trim()?/^\d{10}$/.test(l)||(t="Mobile number must be exactly 10 digits."):t="Mobile number is required."),"pinCode"===s&&(/^\d{6}$/.test(l)||(t="Pin Code must be exactly 6 digits.")),"age"===s&&""!==l&&(isNaN(l)||Number(l)<0)&&(t="Age can not be negative.");["height","weight","temperature","systolicBP","diastolicBP","pulse","bmi","rr","spo2"].includes(s)&&void 0!=l&&""!==l&&(isNaN(l)||Number(l)<0)&&(t=`${s.charAt(0).toUpperCase()+s.slice(1)} must be a non-negative number.`),a((e=>{const a={...e};return t?a[s]=t:delete a[s],a}))},K=e=>{const{name:a,value:s}=e.target;$((e=>({...e,[a]:s})))};const X=async()=>{if((()=>{const e=["firstName","gender","relation","dob","email","mobileNo"];let s=!0;const l={};return e.forEach((e=>{M[e]&&""!==M[e].toString().trim()||(l[e]=`${e.charAt(0).toUpperCase()+e.slice(1)} is required.`,s=!1)})),M.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M.email)&&(l.email="Invalid email format.",s=!1),M.mobileNo&&!/^\d{10}$/.test(M.mobileNo)&&(l.mobileNo="Mobile number must be exactly 10 digits.",s=!1),M.pinCode&&!/^\d{6}$/.test(M.pinCode)&&(l.pinCode="Pin Code must be exactly 6 digits.",s=!1),["height","weight","temperature","systolicBP","diastolicBP","pulse","bmi","rr","spo2","age"].forEach((a=>{const i=M[a];void 0!=i&&""!==i&&(isNaN(i)||Number(i)<0)&&(l[a]=`${a.charAt(0).toUpperCase()+a.slice(1)} must be a non-negative number.`,s=!1),("age"===a||e.includes(a))&&Number(i)<=0&&(l[a]=`${a.charAt(0).toUpperCase()+a.slice(1)} must be greater than 0.`,s=!1)})),a(l),s})()){const a={patient:{id:0,uhidNo:"",patientStatus:"",regDate:new Date(Date.now()).toJSON().split(".")[0].split("T")[0],lastChgBy:sessionStorage.getItem("username"),patientHospitalId:Number(sessionStorage.getItem("hospitalId")),patientFn:M.firstName,patientMn:M.middleName,patientLn:M.lastName,patientDob:M.dob,patientAge:M.age,patientGenderId:M.gender,patientEmailId:M.email,patientMobileNumber:M.mobileNo,patientImage:p,fileName:"string",patientRelationId:M.relation,patientMaritalStatusId:M.maritalStatus,patientReligionId:M.religion,patientAddress1:M.address1,patientAddress2:M.address2,patientCity:M.city,patientPincode:M.pinCode,patientDistrictId:M.district,patientStateId:M.district,patientCountryId:M.country,pincode:"string",emerFn:M.emergencyFirstName,emerLn:M.emergencyLastName,emerRelationId:M.emergencyRelationId,emerMobile:M.emergencyMobile,nokFn:M.nokFirstName,nokLn:M.nokLastName,nokEmail:M.nokEmail,nokMobileNumber:M.nokMobile,nokAddress1:M.nokAddress1,nokAddress2:M.nokAddress2,nokCity:M.nokCity,nokDistrictId:M.nokDistrict,nokStateId:M.nokState,nokCountryId:M.nokCountry,nokPincode:M.nokPinCode,nokRelationId:M.nokRelation},opdPatientDetail:{height:M.height,idealWeight:M.idealWeight,weight:M.weight,pulse:M.pulse,temperature:M.temperature,opdDate:M.appointmentDate,rr:M.rr,bmi:M.bmi,spo2:M.spo2,varation:M.varation,bpSystolic:M.systolicBP,bpDiastolic:M.diastolicBP,icdDiag:"string",workingDiag:"string",followUpFlag:"string",followUpDays:0,pastMedicalHistory:"string",presentComplaints:"string",familyHistory:"string",treatmentAdvice:"string",sosFlag:"string",recmmdMedAdvice:"string",medicineFlag:"s",labFlag:"s",radioFlag:"s",referralFlag:"s",mlcFlag:"s",policeStation:"string",policeName:"string",patientId:0,visitId:0,departmentId:0,hospitalId:0,doctorId:0,lastChgBy:"string"},visit:{id:0,tokenNo:0,visitStatus:"string",visitDate:new Date(Date.now()).toJSON(),departmentId:Number(M.speciality),doctorId:Number(M.selDoctorId),doctorName:"",hospitalId:sessionStorage.getItem("hospitalId"),sessionId:Number(M.selSession),billingStatus:"string",priority:0,patientId:0,iniDoctorId:0}};isNaN(a.visit.doctorId)&&(a.visit=null),console.log(new Date(Date.now()).toJSON());try{const e=await(0,t.MB)(`${o.Aq}`,a);200===e.status&&Array.isArray(e.response)?n().fire("Patient Registration Successful"):(console.error("Unexpected API response format:",e),P([]))}catch(e){console.error("Error:",e)}}};return(0,d.jsx)("div",{className:"body d-flex py-3",children:(0,d.jsxs)("div",{className:"container-xxl",children:[(0,d.jsx)("div",{className:"row align-items-center",children:(0,d.jsx)("div",{className:"border-0 mb-4",children:(0,d.jsx)("div",{className:"card-header py-3 no-bg bg-transparent d-flex align-items-center px-0 justify-content-between border-bottom flex-wrap",children:(0,d.jsx)("h3",{className:"fw-bold mb-0",children:"Registration of Other Patient"})})})}),(0,d.jsx)("div",{className:"row mb-3",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsxs)("div",{className:"card shadow mb-3",children:[(0,d.jsx)("div",{className:"card-header py-3 bg-light border-bottom-1",children:(0,d.jsx)("h6",{className:"mb-0 fw-bold",children:"Personal Details"})}),(0,d.jsx)("div",{className:"card-body",children:(0,d.jsx)("form",{children:(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsx)("div",{className:"col-md-9",children:(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",htmlFor:"firstName",children:"First Name *"}),(0,d.jsx)("input",{type:"text",className:"form-control "+(e.firstName?"is-invalid":""),id:"firstName",name:"firstName",value:M.firstName,onChange:Q,placeholder:"Enter First Name"}),e.firstName&&(0,d.jsx)("div",{className:"invalid-feedback",children:e.firstName})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",htmlFor:"middleName",children:"Middle Name"}),(0,d.jsx)("input",{type:"text",id:"middleName",value:M.middleName,name:"middleName",onChange:Q,className:"form-control",placeholder:"Enter Middle Name"})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",htmlFor:"lastName",children:"Last Name"}),(0,d.jsx)("input",{type:"text",id:"lastName",value:M.lastName,name:"lastName",onChange:Q,className:"form-control",placeholder:"Enter Last Name"})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",htmlFor:"mobileNo",children:"Mobile No."}),(0,d.jsx)("input",{type:"text",id:"mobileNo",className:"form-control "+(e.mobileNo?"is-invalid":""),name:"mobileNo",value:M.mobileNo,onChange:Q,placeholder:"Enter Mobile Number"}),e.mobileNo&&(0,d.jsx)("div",{className:"invalid-feedback",children:e.mobileNo})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",htmlFor:"gender",children:"Gender *"}),(0,d.jsxs)("select",{className:"form-select "+(e.gender?"is-invalid":""),id:"gender",name:"gender",value:M.gender,onChange:Q,children:[(0,d.jsx)("option",{value:"",children:"Select"}),m.map((e=>(0,d.jsx)("option",{value:e.id,children:e.genderName},e.id)))]}),e.gender&&(0,d.jsx)("div",{className:"invalid-feedback",children:e.gender})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",htmlFor:"relation",children:"Relation *"}),(0,d.jsxs)("select",{className:"form-select "+(e.relation?"is-invalid":""),id:"relation",name:"relation",value:M.relation,onChange:Q,children:[(0,d.jsx)("option",{value:"",children:"Select"}),u.map((e=>(0,d.jsx)("option",{value:e.id,children:e.relationName},e.id)))]}),e.relation&&(0,d.jsx)("div",{className:"invalid-feedback",children:e.relation})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",htmlFor:"dob",children:"DOB *"}),(0,d.jsx)("input",{type:"date",id:"dob",name:"dob",className:"form-control "+(e.dob?"is-invalid":""),value:M.dob,max:(new Date).toISOString().split("T")[0],onChange:Q,placeholder:"Select Date of Birth"}),e.dob&&(0,d.jsx)("div",{className:"invalid-feedback",children:e.dob})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",htmlFor:"age",children:"Age"}),(0,d.jsx)("input",{type:"number",id:"age",name:"age",className:"form-control "+(e.age?"is-invalid":""),value:M.age,onChange:Q,placeholder:"Enter Age"}),e.age&&(0,d.jsx)("div",{className:"invalid-feedback",children:e.age})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email *"}),(0,d.jsx)("input",{type:"email",id:"email",name:"email",className:"form-control "+(e.email?"is-invalid":""),value:M.email,onChange:Q,placeholder:"Enter Email Address"}),e.email&&(0,d.jsx)("div",{className:"invalid-feedback",children:e.email})]})]})}),(0,d.jsx)("div",{className:"col-md-3",children:(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("div",{className:"card p-3 shadow",children:[R?(0,d.jsx)("video",{ref:T,autoPlay:!0,className:"d-block mx-auto",style:{width:"100%",height:"150px"}}):(0,d.jsx)("img",{src:B||"/default-profile.png",alt:"Profile",className:"img-fluid border",style:{width:"100%",height:"150px"}}),(0,d.jsx)("canvas",{ref:Y,width:"300",height:"150",style:{display:"none"}}),(0,d.jsxs)("div",{className:"mt-2",children:[(0,d.jsx)("button",{type:"button",className:"btn btn-primary me-2 mb-2",onClick:async()=>{try{q(!0),setTimeout((async()=>{H=await navigator.mediaDevices.getUserMedia({video:!0}),T.current&&(T.current.srcObject=H)}),100)}catch(e){console.error("Error accessing camera:",e)}},disabled:R,children:"Start Camera"}),R&&(0,d.jsx)("button",{type:"button",className:"btn btn-success me-2 mb-2",onClick:()=>{if(T.current&&Y.current){const e=T.current,a=Y.current;a.width=e.videoWidth,a.height=e.videoHeight;a.getContext("2d").drawImage(e,0,0,a.width,a.height);const s=a.toDataURL("image/png");U(s),W(),V(s)}},children:"Take Photo"}),(0,d.jsx)("button",{type:"button",className:"btn btn-danger mb-2",onClick:()=>{U(i)},children:"Clear Photo"})]})]})})})]})})})]})})}),(0,d.jsx)("div",{className:"row mb-3",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsxs)("div",{className:"card shadow mb-3",children:[(0,d.jsx)("div",{className:"card-header py-3 bg-light border-bottom-1",children:(0,d.jsx)("h6",{className:"mb-0 fw-bold",children:"Patient Address"})}),(0,d.jsx)("div",{className:"card-body",children:(0,d.jsx)("form",{children:(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Address 1"}),(0,d.jsx)("input",{type:"text",className:"form-control",name:"address1",value:M.address1,onChange:Q,placeholder:"Enter Address 1"})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Address 2"}),(0,d.jsx)("input",{type:"text",className:"form-control",name:"address2",value:M.address2,onChange:Q,placeholder:"Enter Address 2"})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Country"}),(0,d.jsxs)("select",{className:"form-select",name:"country",value:M.country,onChange:e=>{K(e),async function(e){try{const a=await(0,t.iq)(`${o.ul}${e}`);200===a.status&&Array.isArray(a.response)?j(a.response):(console.error("Unexpected API response format:",a),j([]))}catch(a){console.error("Error fetching Department data:",a)}finally{r(!1)}}(e.target.value)},children:[(0,d.jsx)("option",{value:"",children:"Select Country"}),v.map((e=>(0,d.jsx)("option",{value:e.id,children:e.countryName},e.id)))]})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"State"}),(0,d.jsxs)("select",{className:"form-select",name:"state",value:M.state,onChange:e=>{K(e),async function(e){try{const a=await(0,t.iq)(`${o.Pm}${e}`);200===a.status&&Array.isArray(a.response)?C(a.response):(console.error("Unexpected API response format:",a),C([]))}catch(a){console.error("Error fetching Department data:",a)}finally{r(!1)}}(e.target.value)},children:[(0,d.jsx)("option",{value:"",children:"Select State"}),g.map((e=>(0,d.jsx)("option",{value:e.id,children:e.stateName},e.id)))]})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"District"}),(0,d.jsxs)("select",{className:"form-select",name:"district",value:M.district,onChange:e=>{K(e)},children:[(0,d.jsx)("option",{value:"",children:"Select District"}),k.map((e=>(0,d.jsx)("option",{value:e.id,children:e.districtName},e.id)))]})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"City"}),(0,d.jsx)("input",{type:"text",className:"form-control",name:"city",value:M.city,onChange:Q,placeholder:"Enter City"})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Pin Code"}),(0,d.jsx)("input",{type:"text",className:"form-control "+(e.pinCode?"is-invalid":""),name:"pinCode",value:M.pinCode,onChange:Q,placeholder:"Enter Pin Code"}),e.pinCode&&(0,d.jsx)("div",{className:"invalid-feedback",children:e.pinCode})]})]})})})]})})}),(0,d.jsx)("div",{className:"row mb-3",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsxs)("div",{className:"card shadow mb-3",children:[(0,d.jsx)("div",{className:"card-header py-3 bg-light border-bottom-1",children:(0,d.jsx)("h6",{className:"mb-0 fw-bold",children:"NOK Details"})}),(0,d.jsx)("div",{className:"card-body",children:(0,d.jsx)("form",{children:(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"First Name"}),(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter First Name",name:"nokFirstName",value:M.nokFirstName,onChange:Q})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Middle Name"}),(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Middle Name",name:"nokMiddleName",value:M.nokMiddleName,onChange:Q})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Last Name"}),(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Last Name",name:"nokLastName",value:M.nokLastName,onChange:Q})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Email"}),(0,d.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter Email",name:"nokEmail",value:M.nokEmail,onChange:Q})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Mobile No."}),(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Mobile Number",name:"nokMobile",value:M.nokMobile,onChange:Q})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Address 1"}),(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Address 1",name:"nokAddress1",value:M.nokAddress1,onChange:Q})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Address 2"}),(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Address 2",name:"nokAddress2",value:M.nokAddress2,onChange:Q})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Country"}),(0,d.jsxs)("select",{className:"form-select",name:"nokCountry",value:M.nokCountry,onChange:e=>{K(e),async function(e){try{const a=await(0,t.iq)(`${o.ul}${e}`);200===a.status&&Array.isArray(a.response)?y(a.response):(console.error("Unexpected API response format:",a),y([]))}catch(a){console.error("Error fetching Department data:",a)}finally{r(!1)}}(e.target.value)},children:[(0,d.jsx)("option",{value:"",children:"Select Country"}),v.map((e=>(0,d.jsx)("option",{value:e.id,children:e.countryName},e.id)))]})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"State"}),(0,d.jsxs)("select",{className:"form-select",name:"nokState",value:M.nokState,onChange:e=>{K(e),async function(e){try{const a=await(0,t.iq)(`${o.Pm}${e}`);200===a.status&&Array.isArray(a.response)?S(a.response):(console.error("Unexpected API response format:",a),S([]))}catch(a){console.error("Error fetching Department data:",a)}finally{r(!1)}}(e.target.value)},children:[">",(0,d.jsx)("option",{value:"",children:"Select State"}),f.map((e=>(0,d.jsx)("option",{value:e.id,children:e.stateName},e.id)))]})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"District"}),(0,d.jsxs)("select",{className:"form-select",name:"nokDistrict",value:M.nokDistrict,onChange:e=>{K(e)},children:[(0,d.jsx)("option",{value:"",children:"Select District"}),w.map((e=>(0,d.jsx)("option",{value:e.id,children:e.districtName},e.id)))]})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"City"}),(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter City",name:"nokCity",value:M.nokCity,onChange:Q})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Pin Code"}),(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Pin Code",name:"nokPinCode",value:M.nokPinCode,onChange:Q})]})]})})})]})})}),(0,d.jsx)("div",{className:"row mb-3",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsxs)("div",{className:"card shadow mb-3",children:[(0,d.jsx)("div",{className:"card-header py-3 bg-light border-bottom-1",children:(0,d.jsx)("h6",{className:"mb-0 fw-bold",children:"Emergency Contact Details"})}),(0,d.jsx)("div",{className:"card-body",children:(0,d.jsx)("form",{children:(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"First Name"}),(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter First Name",name:"emergencyFirstName",value:M.emergencyFirstName,onChange:Q})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Last Name"}),(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Last Name",name:"emergencyLastName",value:M.emergencyLastName,onChange:Q})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Mobile No."}),(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Mobile Number",name:"emergencyMobile",value:M.emergencyMobile,onChange:Q})]})]})})})]})})}),!L&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"row mb-3",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsxs)("div",{className:"card shadow mb-3",children:[(0,d.jsx)("div",{className:"card-header py-3 bg-light border-bottom-1",children:(0,d.jsx)("h6",{className:"mb-0 fw-bold",children:"Vital Details"})}),(0,d.jsx)("div",{className:"card-body",children:(0,d.jsx)("form",{className:"vital",children:(0,d.jsxs)("div",{className:"row g-3 align-items-center",children:[(0,d.jsxs)("div",{className:"col-md-4 d-flex",children:[(0,d.jsxs)("label",{className:"form-label me-2",children:["Height",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"number",className:"form-control "+(e.height?"is-invalid":""),min:0,placeholder:"Height",name:"height",value:M.height,onChange:Q}),(0,d.jsx)("span",{className:"input-group-text",children:"cm"}),e.height&&(0,d.jsx)("div",{className:"invalid-feedback d-block",children:e.height})]}),(0,d.jsxs)("div",{className:"col-md-4 d-flex",children:[(0,d.jsxs)("label",{className:"form-label me-2",children:["Weight",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"number",min:0,className:"form-control "+(e.weight?"is-invalid":""),placeholder:"Weight",name:"weight",value:M.weight,onChange:Q}),(0,d.jsx)("span",{className:"input-group-text",children:"kg"}),e.weight&&(0,d.jsx)("div",{className:"invalid-feedback d-block",children:e.weight})]}),(0,d.jsxs)("div",{className:"col-md-4 d-flex",children:[(0,d.jsxs)("label",{className:"form-label me-2",children:["Temperature",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"number",min:0,className:"form-control "+(e.temperature?"is-invalid":""),placeholder:"Temperature",name:"temperature",value:M.temperature,onChange:Q}),(0,d.jsx)("span",{className:"input-group-text",children:"\xb0F"}),e.temperature&&(0,d.jsx)("div",{className:"invalid-feedback d-block",children:e.temperature})]}),(0,d.jsxs)("div",{className:"col-md-4 d-flex",children:[(0,d.jsxs)("label",{className:"form-label me-2",children:["BP",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"number",min:0,className:"form-control "+(e.systolicBP?"is-invalid":""),placeholder:"Systolic",name:"systolicBP",value:M.systolicBP,onChange:Q}),(0,d.jsx)("span",{className:"input-group-text",children:"/"}),e.systolicBP&&(0,d.jsx)("div",{className:"invalid-feedback d-block",children:e.systolicBP}),(0,d.jsx)("input",{type:"number",min:0,className:"form-control "+(e.diastolicBP?"is-invalid":""),placeholder:"Diastolic",name:"diastolicBP",value:M.diastolicBP,onChange:Q}),(0,d.jsx)("span",{className:"input-group-text",children:"mmHg"}),e.diastolicBP&&(0,d.jsx)("div",{className:"invalid-feedback d-block",children:e.diastolicBP})]}),(0,d.jsxs)("div",{className:"col-md-4 d-flex",children:[(0,d.jsxs)("label",{className:"form-label me-2",children:["Pulse",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"number",min:0,className:"form-control "+(e.pulse?"is-invalid":""),placeholder:"Pulse",name:"pulse",value:M.pulse,onChange:Q}),(0,d.jsx)("span",{className:"input-group-text",children:"/min"}),e.pulse&&(0,d.jsx)("div",{className:"invalid-feedback d-block",children:e.pulse})]}),(0,d.jsxs)("div",{className:"col-md-4 d-flex",children:[(0,d.jsx)("label",{className:"form-label me-2",children:"BMI"}),(0,d.jsx)("input",{type:"number",min:0,className:"form-control "+(e.bmi?"is-invalid":""),placeholder:"BMI",name:"bmi",value:M.bmi,onChange:Q}),(0,d.jsx)("span",{className:"input-group-text",children:"kg/m\xb2"}),e.bmi&&(0,d.jsx)("div",{className:"invalid-feedback d-block",children:e.bmi})]}),(0,d.jsxs)("div",{className:"col-md-4 d-flex",children:[(0,d.jsx)("label",{className:"form-label me-2",children:"RR"}),(0,d.jsx)("input",{type:"number",min:0,className:"form-control "+(e.rr?"is-invalid":""),placeholder:"RR",name:"rr",value:M.rr,onChange:Q}),(0,d.jsx)("span",{className:"input-group-text",children:"/min"}),e.rr&&(0,d.jsx)("div",{className:"invalid-feedback d-block",children:e.rr})]}),(0,d.jsxs)("div",{className:"col-md-4 d-flex",children:[(0,d.jsx)("label",{className:"form-label me-2",children:"SpO2"}),(0,d.jsx)("input",{type:"number",min:0,className:"form-control "+(e.spo2?"is-invalid":""),placeholder:"SpO2",name:"spo2",value:M.spo2,onChange:Q}),(0,d.jsx)("span",{className:"input-group-text",children:"%"}),e.height&&(0,d.jsx)("div",{className:"invalid-feedback d-block",children:e.spo2})]})]})})})]})})})}),(0,d.jsx)("div",{className:"row mb-3",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsxs)("div",{className:"card shadow mb-3",children:[(0,d.jsx)("div",{className:"card-header py-3 bg-light border-bottom-1",children:(0,d.jsx)("h6",{className:"mb-0 fw-bold",children:"Appointment Details"})}),(0,d.jsx)("div",{className:"card-body",children:(0,d.jsx)("form",{children:(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Speciality"}),(0,d.jsxs)("select",{className:"form-select",name:"speciality",value:M.speciality,onChange:e=>{K(e),async function(e){try{const a=await(0,t.iq)(`${o.k8}${e}`);200===a.status&&Array.isArray(a.response)?P(a.response):(console.error("Unexpected API response format:",a),P([]))}catch(a){console.error("Error fetching Department data:",a)}finally{r(!1)}}(e.target.value)},children:[(0,d.jsx)("option",{value:"",children:"Select Speciality"}),A.map((e=>(0,d.jsx)("option",{value:e.id,children:e.departmentName},e.id)))]})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Doctor Name"}),(0,d.jsxs)("select",{className:"form-select",name:"selDoctorId",value:M.selDoctorId,onChange:e=>{K(e),async function(e){if(console.log(e.target.value),""!=M.speciality&&e){console.log(e);let a=Date.now(),s=new Date(a).toJSON().split(".")[0].split("T")[0];console.log(s);const l=await(0,t.iq)(`${o.iy}deptId=${M.speciality}&doctorId=${e.target.value}&rosterDate=${s}`);if(200==l.status){console.log(l.response[0].rosterVal);let e=[{key:0,value:""},{key:1,value:""}];"YY"==l.response[0].rosterVal?e=[{key:0,value:"Morning"},{key:1,value:"Evening"}]:"NY"==l.response[0].rosterVal?e=[{key:0,value:"Evening"}]:"YN"==l.response[0].rosterVal&&(e=[{key:0,value:"Morning"}])}else n().fire(l.message)}}(e)},children:[(0,d.jsx)("option",{value:"",children:"Select Doctor"}),I.map((e=>(0,d.jsx)("option",{value:e.userId,children:`${e.firstName} ${e.middleName?e.middleName:""} ${e.lastName?e.lastName:""}`},e.id)))]})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{className:"form-label",children:"Session"}),(0,d.jsxs)("select",{className:"form-select",name:"selSession",value:M.selSession,onChange:e=>{K(e)},children:[(0,d.jsx)("option",{value:"",children:"Select Session"}),E.map((e=>(0,d.jsx)("option",{value:e.id,children:e.sessionName},e.id)))]})]})]})})})]})})}),(0,d.jsx)("div",{className:"row mb-3",children:(0,d.jsx)("div",{className:"col-sm-12",children:(0,d.jsx)("div",{className:"card shadow mb-3",children:(0,d.jsx)("div",{className:"card-body",children:(0,d.jsx)("div",{className:"row g-3",children:(0,d.jsxs)("div",{className:"mt-4",children:[(0,d.jsx)("button",{type:"submit",className:"btn btn-primary me-2",onClick:function(){console.log(M),X()},children:"Registration"}),(0,d.jsx)("button",{type:"reset",className:"btn btn-secondary",children:"Reset"})]})})})})})})]})})}}}]);
//# sourceMappingURL=236.bb0a656f.chunk.js.map