"use strict";(self.webpackChunkhmis=self.webpackChunkhmis||[]).push([[194],{194:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var l=t(43),s=t(472),i=t(533),n=t(253),r=t(128),o=t(351),c=t(579);const d=()=>{const e={profilePicName:null,idDocumentName:null,firstName:"",middleName:"",lastName:"",dob:"",genderId:"",address1:"",countryId:"",stateId:"",districtId:"",city:"",pincode:"",mobileNo:"",identificationType:"",registrationNo:"",employmentTypeId:"",employeeTypeId:"",roleId:"",fromDate:"",qualification:[{employeeQualificationId:1,institutionName:"",completionYear:"",qualificationName:"",filePath:null}],document:[{employeeDocumentId:1,documentName:"",filePath:null}]},[a,t]=(0,l.useState)(e),[d,m]=(0,l.useState)(!1),[p,u]=(0,l.useState)(null),[h,x]=(0,l.useState)([]),[f,N]=(0,l.useState)(""),[y,j]=(0,l.useState)(""),[g,b]=(0,l.useState)(null),[v,I]=(0,l.useState)(!0),[C,P]=(0,l.useState)([]),[w,D]=(0,l.useState)([]),[S,T]=(0,l.useState)([]),[A,q]=(0,l.useState)([]),[E,k]=(0,l.useState)(""),[$,F]=(0,l.useState)(""),[L,U]=(0,l.useState)([]),[R,M]=(0,l.useState)([]),[Y,Q]=(0,l.useState)([]),[G,W]=(0,l.useState)([]),[B,O]=(0,l.useState)([]),[V,z]=(0,l.useState)(""),[_,H]=(0,l.useState)(""),[J,Z]=(0,l.useState)(""),[K,X]=(0,l.useState)(1),[ee,ae]=(0,l.useState)(null),[te,le]=(0,l.useState)(!1),[se,ie]=(0,l.useState)(null),[ne,re]=(0,l.useState)(""),oe=localStorage.getItem("token")||sessionStorage.getItem("token");(0,l.useEffect)((()=>{de(),me(),he(),xe(),ye(),fe(),Ne()}),[]);const ce=function(e){j({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",onClose:()=>{j(null)}})},de=async()=>{I(!0);try{const e=await(0,n.iq)(`/${i.tr}/getAllEmployee`);200===e.status&&Array.isArray(e.response)?(x(e.response),O(e.response)):(console.error("Unexpected API response format:",e),x([]),O([]))}catch(e){console.error("Error fetching Employees data:",e)}finally{I(!1)}},me=async()=>{I(!0);try{const e=await(0,n.iq)(`${i.vn}/getAll/1`);200===e.status&&Array.isArray(e.response)?P(e.response):(console.error("Unexpected API response format:",e),P([]))}catch(e){console.error("Error fetching country data:",e)}finally{I(!1)}},pe=async e=>{I(!0);try{const a=`${i.km}/getByCountryId/${e}`,t=await(0,n.iq)(a);200===t.status&&Array.isArray(t.response)?D(t.response):(console.error("Unexpected API response format:",t),D([]))}catch(a){console.error("Error fetching state data:",a)}finally{I(!1)}},ue=async e=>{I(!0);try{const a=`${i.r6}/getByState/${e}`,t=await(0,n.iq)(a);200===t.status&&Array.isArray(t.response)?T(t.response):(console.error("Unexpected API response format:",t),T([]))}catch(a){console.error("Error fetching city data:",a)}finally{I(!1)}},he=async()=>{I(!0);try{const e=await(0,n.iq)(`${i.Sw}/getAll/1`);200===e.status&&Array.isArray(e.response)?q(e.response):(console.error("Unexpected API response format:",e),q([]))}catch(e){console.error("Error fetching Gender data:",e)}finally{I(!1)}},xe=async()=>{I(!0);try{const e=await(0,n.iq)(`${i.Mb}/getAll/1`);200===e.status&&Array.isArray(e.response)?U(e.response):(console.error("Unexpected API response format:",e),U([]))}catch(e){console.error("Error fetching IdType data:",e)}finally{I(!1)}},fe=async()=>{I(!0);try{const e=await(0,n.iq)(`${i.T}/getAll/1`);200===e.status&&Array.isArray(e.response)?Q(e.response):(console.error("Unexpected API response format:",e),Q([]))}catch(e){console.error("Error fetching EmployeeType data:",e)}finally{I(!1)}},Ne=async()=>{I(!0);try{const e=await(0,n.iq)(`${i.cB}/getAll/1`);200===e.status&&Array.isArray(e.response)?W(e.response):(console.error("Unexpected API response format:",e),W([]))}catch(e){console.error("Error fetching EmploymentType data:",e)}finally{I(!1)}},ye=async()=>{I(!0);try{const e=await(0,n.iq)(`${i.aF}/getAll/1`);200===e.status&&Array.isArray(e.response)?M(e.response):(console.error("Unexpected API response format:",e),M([]))}catch(e){console.error("Error fetching Role data:",e)}finally{I(!1)}},je=async e=>{try{const a=await(0,n.$F)(`/api/employee/viewDocument?filePath=${encodeURIComponent(e)}`,{},"blob"),t=URL.createObjectURL(a),l=a.type;ie(t),re(l),le(!0)}catch(a){console.error("Failed to load document:",a)}},ge=(e,a,l)=>{t((t=>({...t,qualification:t.qualification.map(((t,s)=>s===e?{...t,[a]:l}:t))})))},be=(e,a,l)=>{t((t=>({...t,document:t.document.map(((t,s)=>s===e?{...t,[a]:l}:t))})))},ve=async a=>{var l,s;u(a),m(!0),b(a.employeeId),await(async e=>{try{const a=await(0,n.$F)(`/api/employee/getProfileImageSrcInEmployee/${e}`,{},"blob"),t=URL.createObjectURL(a);ae(t)}catch(a){console.error("Error fetching image source",a)}})(a.employeeId);const i={...e,profilePicName:a.profilePicName||null,idDocumentName:a.idDocumentName||null,firstName:a.firstName||"",middleName:a.middleName||"",lastName:a.lastName||"",dob:a.dob||"",genderId:a.genderId||"",address1:a.address1||"",countryId:a.countryId||"",stateId:a.stateId||"",districtId:a.districtId||"",city:a.city||"",pincode:a.pincode||"",mobileNo:a.mobileNo||"",identificationType:a.identificationTypeId||"",registrationNo:a.registrationNo||"",employmentTypeId:a.employmentTypeId||"",employeeTypeId:a.employeeTypeId||"",roleId:a.roleId||"",fromDate:a.fromDate?a.fromDate.slice(0,10):""};null!==(l=a.qualifications)&&void 0!==l&&l.length&&(i.qualification=a.qualifications.map((e=>({employeeQualificationId:e.employeeQualificationId,institutionName:e.institutionName||"",completionYear:e.completionYear||"",qualificationName:e.qualificationName||"",filePath:e.filePath||null})))),null!==(s=a.documents)&&void 0!==s&&s.length&&(i.document=a.documents.map((e=>({employeeDocumentId:e.employeeDocumentId,documentName:e.documentName||"",filePath:e.filePath||null})))),t(i),a.countryId&&(await pe(a.countryId),a.stateId&&await ue(a.stateId))},Ie=e=>{const{id:a,value:l}=e.target;t((e=>({...e,[a]:l})))},Ce=e=>{const{id:a,value:l}=e.target,s=l.replace(/\D/g,"");t((e=>({...e,[a]:s})))},Pe=Math.ceil(B.length/5),we=B.slice(5*(K-1),5*K),De=()=>{t(e),m(!1),u(null)},Se=()=>{if(!(()=>{const e=["firstName","lastName","dob","genderId","address1","countryId","stateId","districtId","city","pincode","mobileNo","identificationType","registrationNo"];for(const t of e)if(!a[t])return ce(`Please fill in the required field: ${t.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase()))}`,"error"),!1;return a.profilePicName||null!==p&&void 0!==p&&p.profilePicName?!!(a.idDocumentName||null!==p&&void 0!==p&&p.idDocumentName)||(ce("ID document is required","error"),!1):(ce("Profile picture is required","error"),!1)})())return null;const e=new FormData;return e.append("firstName",a.firstName),e.append("lastName",a.lastName),a.middleName&&e.append("middleName",a.middleName),e.append("dob",new Date(a.dob).toISOString().split("T")[0]),e.append("genderId",a.genderId),e.append("address1",a.address1),e.append("countryId",a.countryId),e.append("stateId",a.stateId),e.append("districtId",a.districtId),e.append("city",a.city),e.append("pincode",a.pincode),e.append("mobileNo",a.mobileNo),e.append("registrationNo",a.registrationNo),e.append("identificationType",a.identificationType),e.append("employeeTypeId",a.employeeTypeId),e.append("employmentTypeId",a.employmentTypeId),e.append("roleId",a.roleId),e.append("fromDate",new Date(a.fromDate).toISOString()),a.deprtId&&e.append("departmentId",a.deprtId),a.profilePicName instanceof File&&e.append("profilePicName",a.profilePicName),a.idDocumentName instanceof File&&e.append("idDocumentName",a.idDocumentName),a.qualification.forEach(((a,t)=>{e.append(`qualification[${t}].institutionName`,a.institutionName),e.append(`qualification[${t}].completionYear`,a.completionYear),e.append(`qualification[${t}].qualificationName`,a.qualificationName),a.employeeQualificationId&&1!==a.employeeQualificationId&&e.append(`qualification[${t}].employeeQualificationId`,a.employeeQualificationId),a.filePath instanceof File&&e.append(`qualification[${t}].filePath`,a.filePath)})),a.document.forEach(((a,t)=>{e.append(`document[${t}].documentName`,a.documentName),a.employeeDocumentId&&1!==a.employeeDocumentId&&e.append(`document[${t}].employeeDocumentId`,a.employeeDocumentId),a.filePath instanceof File&&e.append(`document[${t}].filePath`,a.filePath)})),e};return(0,c.jsxs)("div",{className:"body d-flex py-3",children:[(0,c.jsxs)("div",{className:"container-xxl",children:[(0,c.jsx)("div",{className:"row align-items-center",children:(0,c.jsxs)("div",{className:"border-0 mb-4",children:[y&&(0,c.jsx)(r.A,{message:y.message,type:y.type,onClose:y.onClose}),v&&(0,c.jsx)(o.A,{}),(0,c.jsx)("div",{className:"card-header py-3 bg-transparent d-flex align-items-center px-0 justify-content-between border-bottom flex-wrap",children:(0,c.jsx)("h3",{className:"fw-bold mb-0",children:"Employee List"})})]})}),d?(0,c.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{const e=Se();if(e){console.log("Form data to send:",e),I(!0);try{const a=await fetch(`${i.QU}/${i.tr}/employee/${g}`,{method:"PUT",headers:{Authorization:`Bearer ${oe}`,Accept:"application/json"},body:e}),t=await a.json();a.ok?(ce("Employee updated successfully","success"),De()):ce(`Error: ${t.message||"Failed to update employee"}`,"error")}catch(a){console.error("Error updating employee:",a),ce("Error submitting form. Please try again.","error")}finally{I(!1)}}})()},className:"forms row",children:[(0,c.jsxs)("div",{className:"g-3 row",children:[(0,c.jsx)("div",{className:"col-md-9",children:(0,c.jsxs)("div",{className:"g-3 row",children:[(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"First Name *"}),(0,c.jsx)("input",{type:"text",required:!0,className:"form-control",id:"firstName",placeholder:"First Name",onChange:Ie,value:a.firstName,maxLength:15})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"Middle Name"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"middleName",placeholder:"Middle Name",onChange:Ie,value:a.middleName,maxLength:15})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"Last Name *"}),(0,c.jsx)("input",{type:"text",required:!0,className:"form-control",id:"lastName",placeholder:"Last Name",onChange:Ie,value:a.lastName,maxLength:15})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"Date of Birth *"}),(0,c.jsx)("input",{type:"date",required:!0,id:"dob",value:a.dob,className:"form-control",onChange:Ie})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"Gender *"}),(0,c.jsxs)("select",{className:"form-select",style:{paddingRight:"40px"},value:a.genderId,onChange:e=>{return a=parseInt(e.target.value,10),void t((e=>({...e,genderId:a})));var a},disabled:v,children:[(0,c.jsx)("option",{value:"",children:"Select Gender"}),A.map((e=>(0,c.jsx)("option",{value:e.id,children:e.genderName},e.id)))]})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"Address *"}),(0,c.jsx)("textarea",{required:!0,id:"address1",value:a.address1,className:"form-control",onChange:Ie,placeholder:"Address"})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"Country *"}),(0,c.jsxs)("select",{className:"form-select",value:a.countryId,onChange:e=>{const a=C.find((a=>a.id.toString()===e.target.value));var l;a&&(l=a.id,t((e=>({...e,countryId:l,stateId:"",districtId:""}))),pe(l),k(a.id),pe(a.id))},disabled:v,children:[(0,c.jsx)("option",{value:"",children:"Select Country"}),C.map((e=>(0,c.jsx)("option",{value:e.id,children:e.countryName},e.id)))]})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"State *"}),(0,c.jsxs)("select",{className:"form-select",value:a.stateId,onChange:e=>{const a=w.find((a=>a.id.toString()===e.target.value));var l;a&&(l=a.id,t((e=>({...e,stateId:l,districtId:""}))),ue(l),F(a.id),ue(a.id))},disabled:v||!a.countryId,children:[(0,c.jsx)("option",{value:"",children:"Select State"}),w.map((e=>(0,c.jsx)("option",{value:e.id,children:e.stateName},e.id)))]})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"District *"}),(0,c.jsxs)("select",{className:"form-select",value:a.districtId,onChange:e=>{return a=e.target.value,void t((e=>({...e,districtId:a})));var a},disabled:v||!a.stateId,children:[(0,c.jsx)("option",{value:"",children:"Select District"}),S.map((e=>(0,c.jsx)("option",{value:e.id,children:e.districtName},e.id)))]})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"City *"}),(0,c.jsx)("input",{type:"text",required:!0,className:"form-control",id:"city",placeholder:"City",onChange:Ie,value:a.city,maxLength:15})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"Pincode *"}),(0,c.jsx)("input",{type:"text",required:!0,className:"form-control",id:"pincode",placeholder:"Pincode",onChange:Ce,value:a.pincode,maxLength:6,minLength:6,inputMode:"numeric",pattern:"\\d*"})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"Mobile No. *"}),(0,c.jsx)("input",{type:"text",required:!0,className:"form-control",id:"mobileNo",placeholder:"Mobile No.",onChange:Ce,value:a.mobileNo,maxLength:10,minLength:10,inputMode:"numeric",pattern:"\\d*"})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"ID Type *"}),(0,c.jsxs)("select",{className:"form-select",style:{paddingRight:"40px"},value:a.identificationType,onChange:e=>{return a=parseInt(e.target.value,10),void t((e=>({...e,identificationType:a})));var a},disabled:v,children:[(0,c.jsx)("option",{value:"",children:"Select ID Type"}),L.map((e=>(0,c.jsx)("option",{value:e.identificationTypeId,children:e.identificationName},e.identificationTypeId)))]})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"ID Number *"}),(0,c.jsx)("input",{type:"text",required:!0,className:"form-control",id:"registrationNo",placeholder:"ID Number",onChange:Ie,value:a.registrationNo,maxLength:15})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"ID Upload (JPEG/PDF) *"}),(0,c.jsx)("input",{type:"file",id:"idDocumentName",className:"form-control mt-2",accept:".jpg,.jpeg,.png,.pdf",onChange:e=>t({...a,idDocumentName:e.target.files[0]})}),(null===p||void 0===p?void 0:p.idDocumentName)&&a.idDocumentName&&(0,c.jsxs)("div",{className:"d-flex align-items-center mt-1",children:[(0,c.jsxs)("small",{className:"text-muted",children:["Current file: ",p.idDocumentName.split("/").pop().replace(/^\d+_/,"")]}),(0,c.jsxs)("div",{onClick:()=>je(p.idDocumentName),className:"text-success d-flex align-items-center ms-2",style:{cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.color="#0f8c75",e.currentTarget.style.fontWeight="bold"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="",e.currentTarget.style.fontWeight="normal"},children:[(0,c.jsx)("i",{className:"icofont-eye me-1"}),(0,c.jsx)("small",{children:"View"})]})]})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"Role Name *"}),(0,c.jsxs)("select",{className:"form-select",style:{paddingRight:"40px"},value:a.roleId,onChange:e=>{return a=parseInt(e.target.value,10),void t((e=>({...e,roleId:a})));var a},disabled:v,children:[(0,c.jsx)("option",{value:"",children:"Select Role"}),R.map((e=>(0,c.jsx)("option",{value:e.id,children:e.roleDesc},e.id)))]})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"Period of Employment From Date"}),(0,c.jsx)("input",{type:"date",id:"fromDate",value:a.fromDate,className:"form-control",onChange:Ie})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"Type of Employee *"}),(0,c.jsxs)("select",{className:"form-select",style:{paddingRight:"40px"},value:a.employeeTypeId,onChange:e=>{return a=parseInt(e.target.value,10),void t((e=>({...e,employeeTypeId:a})));var a},disabled:v,children:[(0,c.jsx)("option",{value:"",children:"Select Employee Type"}),Y.map((e=>(0,c.jsx)("option",{value:e.userTypeId,children:e.userTypeName},e.userTypeId)))]})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{className:"form-label",children:"Type of Employment *"}),(0,c.jsxs)("select",{className:"form-select",style:{paddingRight:"40px"},value:a.employmentTypeId,onChange:e=>{return a=parseInt(e.target.value,10),void t((e=>({...e,employmentTypeId:a})));var a},disabled:v,children:[(0,c.jsx)("option",{value:"",children:"Select Employment Type"}),G.map((e=>(0,c.jsx)("option",{value:e.id,children:e.employmentType},e.id)))]})]})]})}),(0,c.jsxs)("div",{className:"col-md-3 d-flex flex-column",children:[(0,c.jsx)("label",{className:"form-label",children:"Profile Image *"}),(0,c.jsxs)("div",{className:"d-flex flex-column align-items-center border p-2",children:[(0,c.jsx)("img",{src:a.profilePicPreview||ee||s,alt:"Profile",className:"img-fluid",style:{objectFit:"cover",maxWidth:"100%",height:"150px"}}),(0,c.jsx)("input",{type:"file",id:"profilePicName",className:"form-control mt-2",accept:"image/*",onChange:e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onloadend=()=>{t((t=>({...t,profilePicName:a,profilePicPreview:e.result})))},e.readAsDataURL(a)}}})]})]})]}),(0,c.jsx)("div",{className:"row mb-3 mt-4",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsxs)("div",{className:"card shadow mb-3",children:[(0,c.jsx)("div",{className:"card-header bg-light border-bottom-1 py-3",children:(0,c.jsx)("h6",{className:"fw-bold mb-0",children:"Educational Qualification"})}),(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsxs)("table",{className:"table table-bordered",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"S.No"}),(0,c.jsx)("th",{children:"Degree"}),(0,c.jsx)("th",{children:"Name of Institution"}),(0,c.jsx)("th",{children:"Year of Completion"}),(0,c.jsx)("th",{children:"File Upload"}),(0,c.jsx)("th",{children:"Action"})]})}),(0,c.jsx)("tbody",{children:a.qualification.map(((e,a)=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:a+1}),(0,c.jsx)("td",{children:(0,c.jsx)("input",{type:"text",className:"form-control",value:e.qualificationName,onChange:e=>ge(a,"qualificationName",e.target.value)})}),(0,c.jsx)("td",{children:(0,c.jsx)("input",{type:"text",className:"form-control",value:e.institutionName,onChange:e=>ge(a,"institutionName",e.target.value)})}),(0,c.jsx)("td",{children:(0,c.jsx)("input",{type:"text",className:"form-control",placeholder:"YYYY",value:e.completionYear,onChange:e=>ge(a,"completionYear",e.target.value)})}),(0,c.jsxs)("td",{children:[(0,c.jsx)("input",{type:"file",className:"form-control",onChange:e=>ge(a,"filePath",e.target.files[0]),accept:".pdf,.jpg,.jpeg,.png"}),(0,c.jsx)("div",{className:"d-flex align-items-center mt-1",children:e.filePath&&"string"===typeof e.filePath&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("small",{className:"text-muted",children:["Current file: ",e.filePath.split("/").pop().replace(/^\d+_/,"")]}),(0,c.jsxs)("div",{onClick:()=>je(e.filePath),className:"text-success d-flex align-items-center ms-2",style:{cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.color="#0f8c75",e.currentTarget.style.fontWeight="bold"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="",e.currentTarget.style.fontWeight="normal"},children:[(0,c.jsx)("i",{className:"icofont-eye me-1"}),(0,c.jsx)("small",{children:"View"})]})]})})]}),(0,c.jsx)("td",{children:(0,c.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>(e=>{t((a=>({...a,qualification:a.qualification.filter(((a,t)=>t!==e))})))})(a),children:(0,c.jsx)("i",{className:"icofont-close"})})})]},a)))})]}),(0,c.jsx)("button",{type:"button",className:"btn btn-success",onClick:e=>{e.preventDefault(),t((e=>({...e,qualification:[...e.qualification,{employeeQualificationId:null,institutionName:"",completionYear:"",qualificationName:"",filePath:null}]})))},children:"Add Row +"})]})]})})}),(0,c.jsx)("div",{className:"row mb-3",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsxs)("div",{className:"card shadow mb-3",children:[(0,c.jsx)("div",{className:"card-header bg-light border-bottom-1 py-3",children:(0,c.jsx)("h6",{className:"fw-bold mb-0",children:"Required Documents"})}),(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsxs)("table",{className:"table table-bordered",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"S.No"}),(0,c.jsx)("th",{children:"Document Name"}),(0,c.jsx)("th",{children:"File Upload"}),(0,c.jsx)("th",{children:"Action"})]})}),(0,c.jsx)("tbody",{children:a.document.map(((e,a)=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:a+1}),(0,c.jsx)("td",{children:(0,c.jsx)("input",{type:"text",className:"form-control",value:e.documentName,onChange:e=>be(a,"documentName",e.target.value)})}),(0,c.jsxs)("td",{children:[(0,c.jsx)("input",{type:"file",className:"form-control",onChange:e=>be(a,"filePath",e.target.files[0]),accept:".pdf,.jpg,.jpeg,.png"}),(0,c.jsx)("div",{className:"d-flex align-items-center mt-1",children:e.filePath&&"string"===typeof e.filePath&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("small",{className:"text-muted mr-2",children:["Current file: ",e.filePath.split("/").pop().replace(/^\d+_/,"")]}),(0,c.jsxs)("div",{onClick:()=>je(e.filePath),className:"text-success d-flex align-items-center ms-2",style:{cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.color="#0f8c75",e.currentTarget.style.fontWeight="bold"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="",e.currentTarget.style.fontWeight="normal"},children:[(0,c.jsx)("i",{onClick:()=>je(e.filePath),className:"icofont-eye"}),(0,c.jsx)("small",{children:"View"})]})]})})]}),(0,c.jsx)("td",{children:(0,c.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>(e=>{t((a=>({...a,document:a.document.filter(((a,t)=>t!==e))})))})(a),children:(0,c.jsx)("i",{className:"icofont-close"})})})]},a)))})]}),(0,c.jsx)("button",{type:"button",className:"btn btn-success",onClick:e=>{e.preventDefault(),t((e=>({...e,document:[...e.document,{employeeDocumentId:null,documentName:"",filePath:null}]})))},children:"Add Row +"})]})]})})}),(0,c.jsxs)("div",{className:"form-group col-md-12 d-flex justify-content-end mt-2",children:[(0,c.jsx)("button",{type:"submit",className:"btn btn-primary me-2",children:p?"Update":"Save"}),(0,c.jsx)("button",{type:"button",className:"btn btn-danger",onClick:De,children:"Cancel"})]})]}):(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("div",{className:"card shadow",children:(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsxs)("div",{className:"row mb-4",children:[(0,c.jsx)("div",{className:"col-md-3",children:(0,c.jsx)("input",{type:"text",className:"form-control",placeholder:"Mobile Number",value:V,onChange:e=>z(e.target.value)})}),(0,c.jsx)("div",{className:"col-md-4",children:(0,c.jsx)("input",{type:"text",className:"form-control",placeholder:"Employee Name",value:_,onChange:e=>H(e.target.value)})}),(0,c.jsx)("div",{className:"col-md-2",children:(0,c.jsx)("button",{className:"btn btn-primary w-100",onClick:()=>{const e=_.toLowerCase(),a=h.filter((a=>{const t=`${a.firstName} ${a.middleName} ${a.lastName}`.toLowerCase();return(""===V||a.mobileNo.includes(V))&&(""===_||t.includes(e))}));O(a)},children:"Search"})}),(0,c.jsx)("div",{className:"col-md-2",children:(0,c.jsx)("button",{className:"btn btn-warning w-100",onClick:()=>{O(h),z(""),H("")},children:"Show All"})})]}),(0,c.jsxs)("table",{className:"table table-bordered",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"S.N."}),(0,c.jsx)("th",{children:"Employee Name"}),(0,c.jsx)("th",{children:"Gender"}),(0,c.jsx)("th",{children:"Date Of Birth"}),(0,c.jsx)("th",{children:"Mobile No"}),(0,c.jsx)("th",{children:"Type Of Employee"}),(0,c.jsx)("th",{children:"Role"}),(0,c.jsx)("th",{children:"Status"}),(0,c.jsx)("th",{children:"Edit"})]})}),(0,c.jsx)("tbody",{children:B.length>0?we.map(((e,a)=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:5*(K-1)+a+1}),(0,c.jsxs)("td",{children:[e.firstName," ",e.middleName," ",e.lastName]}),(0,c.jsx)("td",{children:e.gender}),(0,c.jsx)("td",{children:e.dob}),(0,c.jsx)("td",{children:e.mobileNo}),(0,c.jsx)("td",{children:e.employeeType}),(0,c.jsx)("td",{children:e.role}),(0,c.jsx)("td",{children:"A"===e.status?(0,c.jsx)("i",{className:"fa fa-check-circle text-success fa-2x"}):(0,c.jsx)("i",{className:"fa fa-times-circle fa-2x text-danger"})}),(0,c.jsx)("td",{children:(0,c.jsx)("button",{className:"btn btn-sm btn-success",onClick:()=>ve(e),disabled:"S"!==e.status,children:(0,c.jsx)("i",{className:"fa fa-pencil"})})})]},a))):(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:"7",className:"text-center text-danger",children:"No Record Found"})})})]}),(0,c.jsxs)("nav",{className:"d-flex justify-content-between align-items-center mt-3",children:[(0,c.jsx)("div",{children:(0,c.jsxs)("span",{children:["Page ",K," of ",Pe," | Total Records: ",B.length]})}),(0,c.jsxs)("ul",{className:"pagination mb-0",children:[(0,c.jsx)("li",{className:"page-item "+(1===K?"disabled":""),children:(0,c.jsx)("button",{className:"page-link",onClick:()=>X(K-1),disabled:1===K,children:"\xab Previous"})}),(()=>{const e=[];let a=Math.max(1,K-Math.floor(2.5));const t=Math.min(Pe,a+5-1);t-a<4&&(a=Math.max(1,t-5+1)),a>1&&(e.push(1),a>2&&e.push("..."));for(let l=a;l<=t;l++)e.push(l);return t<Pe&&(t<Pe-1&&e.push("..."),e.push(Pe)),e.map(((e,a)=>(0,c.jsx)("li",{className:"page-item "+(e===K?"active":""),children:"number"===typeof e?(0,c.jsx)("button",{className:"page-link",onClick:()=>X(e),children:e}):(0,c.jsx)("span",{className:"page-link disabled",children:e})},a)))})(),(0,c.jsx)("li",{className:"page-item "+(K===Pe?"disabled":""),children:(0,c.jsx)("button",{className:"page-link",onClick:()=>X(K+1),disabled:K===Pe,children:"Next \xbb"})})]}),(0,c.jsxs)("div",{className:"d-flex align-items-center",children:[(0,c.jsx)("input",{type:"number",min:"1",max:Pe,value:J,onChange:e=>Z(e.target.value),placeholder:"Go to page",className:"form-control me-2"}),(0,c.jsx)("button",{className:"btn btn-primary",onClick:()=>{const e=parseInt(J,10);e>0&&e<=Pe?X(e):alert("Please enter a valid page number.")},children:"Go"})]})]})]})})})})]}),te&&(0,c.jsx)("div",{className:"modal show d-block",tabIndex:"-1",role:"dialog",style:{backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e5,position:"fixed",top:0,left:0,width:"100vw",height:"100vh",overflow:"auto"},children:(0,c.jsx)("div",{className:"modal-dialog modal-xl",role:"document",style:{zIndex:1e5},children:(0,c.jsxs)("div",{className:"modal-content",style:{backgroundColor:"#20c997",color:"white"},children:[(0,c.jsxs)("div",{className:"modal-header",children:[(0,c.jsx)("h5",{className:"modal-title",children:"Document Viewer"}),(0,c.jsx)("button",{type:"button",className:"close",onClick:()=>le(!1),children:(0,c.jsx)("span",{children:"\xd7"})})]}),(0,c.jsx)("div",{className:"modal-body",style:{minHeight:"500px"},children:"application/pdf"===ne?(0,c.jsx)("iframe",{src:se,width:"100%",height:"500px",title:"PDF Viewer"}):(0,c.jsx)("img",{src:se,alt:"Document",className:"img-fluid"})})]})})})]})}}}]);
//# sourceMappingURL=194.f2b196db.chunk.js.map