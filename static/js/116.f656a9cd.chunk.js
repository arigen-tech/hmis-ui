"use strict";(self.webpackChunkhmis=self.webpackChunkhmis||[]).push([[116],{116:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var a=t(43),r=t(727);const l=t.p+"static/media/login-img.05b38127828f48c4f6f78f90409e219e.svg";var n=t(253),o=t(533),i=t(579);const c=()=>{const e=(0,r.Zp)(),[s,t]=(0,a.useState)({username:"",password:"",rememberMe:!1,departmentId:""}),[c,m]=(0,a.useState)([]),[d,h]=(0,a.useState)(!1),[x,g]=(0,a.useState)(!1);(0,a.useEffect)((()=>{var e;null!==(e=s.username)&&void 0!==e&&e.trim()&&j()}),[s.username]);const j=async function(){try{h(!0);const e=await(0,n.iq)(`${o.DT}/getByUserName/${null===s||void 0===s?void 0:s.username}`);e&&e.response&&m(e.response)}catch(e){console.error("Error fetching departments:",e)}finally{h(!1)}},f=e=>{const{name:s,value:a,type:r,checked:l}=e.target;t((e=>({...e,[s]:"checkbox"===r?l:a})))},A=()=>{localStorage.clear(),sessionStorage.clear(),e("/")};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{id:"ihealth-layout",className:"theme-tradewind",children:(0,i.jsx)("div",{className:"main p-2 py-3 p-xl-5",children:(0,i.jsx)("div",{className:"body d-flex p-0 p-xl-5",children:(0,i.jsx)("div",{className:"container-xxl",children:(0,i.jsxs)("div",{className:"row g-0",children:[(0,i.jsx)("div",{className:"col-lg-6 d-none d-lg-flex justify-content-center align-items-center rounded-lg auth-h100",children:(0,i.jsxs)("div",{style:{maxWidth:"25rem"},children:[(0,i.jsx)("div",{className:"cardiogram text-center mb-5",children:(0,i.jsx)("img",{src:"data:image/png;base64,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",alt:"cardiogram"})}),(0,i.jsx)("div",{className:"mb-5",children:(0,i.jsx)("h2",{className:"color-900 text-center",children:"Arigen-Health, We aim to make your life better"})}),(0,i.jsx)("div",{children:(0,i.jsx)("img",{src:l,alt:"login-img"})})]})}),(0,i.jsx)("div",{className:"col-lg-6 d-flex justify-content-center align-items-center border-0 rounded-lg auth-h100",children:(0,i.jsx)("div",{className:"w-100 p-3 p-md-5 card border-0 bg-theme text-light",style:{maxWidth:"32rem"},children:(0,i.jsxs)("form",{className:"row g-1 p-2 p-md-3",onSubmit:async t=>{t.preventDefault();try{var a;const t=await(0,n.MB)(o.S3,s);if(null!==t&&void 0!==t&&null!==(a=t.response)&&void 0!==a&&a.jwtToken){const{jwtToken:a,refreshToken:r,username:l,roleId:n,jwtTokenExpiry:o,hospitalId:i,departmentId:c}=t.response,m=Date.now(),d=o>m,h=o;console.log("Current Time:",new Date(m).toLocaleString()),console.log("Token Expiry Time:",new Date(o).toLocaleString()),console.log("Is Token Valid:",d),s.rememberMe?(localStorage.setItem("token",a),localStorage.setItem("refreshToken",r),localStorage.setItem("username",l),localStorage.setItem("roleId",n),localStorage.setItem("AuthValidation",h),localStorage.setItem("isTokenValid",d),localStorage.setItem("hospitalId",i),localStorage.setItem("departmentId",c)):(sessionStorage.setItem("token",a),sessionStorage.setItem("refreshToken",r),sessionStorage.setItem("username",l),sessionStorage.setItem("roleId",n),sessionStorage.setItem("AuthValidation",h),sessionStorage.setItem("isTokenValid",d),sessionStorage.setItem("hospitalId",i),sessionStorage.setItem("departmentId",c));setTimeout((()=>{s.rememberMe?(localStorage.setItem("isTokenValid","false"),A()):(sessionStorage.setItem("isTokenValid","false"),A())}),o-m),e("/dashboard")}else console.error("Login failed: Missing token in response.")}catch(r){console.error("Login request failed:",r)}},children:[(0,i.jsx)("div",{className:"col-12 text-center mb-5",children:(0,i.jsx)("h1",{children:"Sign in"})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"mb-1",children:[(0,i.jsxs)("label",{className:"form-label",style:{fontSize:"0.95rem"},children:["Username ",(0,i.jsx)("span",{className:"text-danger",children:"*"})]}),(0,i.jsx)("input",{type:"text",name:"username",className:"form-control form-control-sm",style:{fontSize:"0.95rem",padding:"0.375rem 0.75rem"},placeholder:"6209150953",value:s.username,onChange:f,required:!0})]})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"mb-1",children:[(0,i.jsxs)("label",{className:"form-label",style:{fontSize:"0.95rem"},children:["Password ",(0,i.jsx)("span",{className:"text-danger",children:"*"})]}),(0,i.jsxs)("div",{className:"position-relative",children:[(0,i.jsx)("input",{type:x?"text":"password",name:"password",className:"form-control form-control-sm",style:{fontSize:"0.95rem",padding:"0.375rem 0.75rem"},placeholder:"174620",value:s.password,onChange:f,required:!0}),(0,i.jsx)("button",{type:"button",className:"btn btn-link position-absolute end-0 top-50 translate-middle-y text-decoration-none",onClick:()=>g(!x),style:{zIndex:1,fontSize:"1rem",padding:"0.2rem"},children:x?(0,i.jsx)("i",{className:"bi bi-eye-slash"}):(0,i.jsx)("i",{className:"bi bi-eye"})})]})]})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"mb-1",children:[(0,i.jsxs)("label",{className:"form-label",style:{fontSize:"0.95rem"},children:["Department ",(0,i.jsx)("span",{className:"text-danger",children:"*"})]}),(0,i.jsxs)("select",{className:"form-control form-control-sm",name:"departmentId",value:s.departmentId,onChange:f,required:!0,disabled:d,style:{fontSize:"0.95rem",padding:"0.375rem 0.75rem"},children:[(0,i.jsx)("option",{value:"",children:"Select Department"}),c.map((e=>(0,i.jsx)("option",{value:e.id,children:e.departmentName},e.id)))]})]})}),(0,i.jsx)("div",{className:"form-label",children:(0,i.jsx)("span",{className:"d-flex justify-content-between align-items-right",children:(0,i.jsx)("a",{href:"/forgot-password",children:"Forgot Password?"})})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"form-check",children:[(0,i.jsx)("input",{className:"form-check-input",type:"checkbox",name:"rememberMe",checked:s.rememberMe,onChange:f,id:"flexCheckDefault"}),(0,i.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:"Remember me"})]})}),(0,i.jsx)("div",{className:"col-12 text-center mt-3",children:(0,i.jsx)("button",{type:"submit",className:"btn btn-sm btn-block btn-light lift text-uppercase",style:{fontSize:"1rem",padding:"0.4rem 1rem"},children:"SIGN IN"})})]})})})]})})})})})})}}}]);
//# sourceMappingURL=116.f656a9cd.chunk.js.map